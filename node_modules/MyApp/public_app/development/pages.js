module.exports =
webpackJsonp([7],{

/***/ 1174:
/***/ function(module, exports) {

module.exports = "<div>\n  <form>\n    <div class=\"row\">\n      <div class=\"col-md-7\">\n        <div class=\"form-group\">\n          <label>alias</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            name=\"baseurl\"\n            @keydown.enter.prevent=\"create_alias\"\n            data-parsley-required=\"true\"\n            data-parsley-minlength=\"2\">\n        </div>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"form-group\">\n          <label>code</label>\n          <select name=\"redirect_code\" class=\"form-control c-select\">\n            <option value=\"301\">301</option>\n            <option value=\"302\">302</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"col-md-2\">\n        <div class=\"form-group\">\n          <label>&nbsp;</label>\n          <button type=\"button\" class=\"btn btn-primary btn-block\" @click=\"create_alias\">\n            <i class=\"fa fa-plus\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  </form>\n\n  <ul class=\"list-group\">\n    <li v-for=\"(alias, index) in item.aliases\" class=\"list-group-item\">\n      <div class=\"pull-xs-right\">\n        {{alias.redirect_code}}\n      </div>\n      <a href=\"#\" @click.prevent=\"delete_alias(alias.id, index)\">\n        <i class=\"fa fa-close text-danger\"></i>\n      </a>\n      <a :href=\"page_url(item)\" target=\"_blank\" rel=\"extern\">\n        {{alias.baseurl}}\n      </a>\n    </li>\n  </ul>\n</div>\n";

/***/ },

/***/ 1175:
/***/ function(module, exports) {

module.exports = "<div>\n  <form id=\"crudle-editor-form\">\n    <div class=\"row\">\n      <div class=\"col-xs-12 col-md-6\">\n        <div class=\"form-group\">\n          <label>Name</label>\n          <input type=\"text\" name=\"name\" :value=\"item.name\" class=\"form-control\">\n        </div>\n      </div>\n      <div class=\"col-xs-12 col-md-6\">\n        <div class=\"form-group\">\n          <label>\n            URL\n            <small class=\"text-muted\">\n              (auto-generated, edit only if URL differs from name)\n            </small>\n          </label>\n          <input type=\"text\" name=\"baseurl\" :value=\"item.baseurl\" class=\"form-control\">\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-xs-12 col-md-3\">\n        <label>Layout</label>\n        <select name=\"layout_id\" class=\"form-control c-select\">\n          <option value=\"0\">None</option>\n          <option v-for=\"layout in $options.layouts\"\n            :value=\"layout.id\"\n            :selected=\"item.layout_id === layout.id\">\n            {{layout.name}}\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-xs-12 col-md-6\">\n        <label></label>\n        <div class=\"row\">\n          <div class=\"col-xs-6\">\n            <div class=\"form-group\">\n              <div class=\"radio\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"published\"\n                    value=\"true\"\n                    :checked=\"item.published\">\n                  Published\n                </label>\n              </div>\n              <div class=\"radio\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"published\"\n                    value=\"false\"\n                    :checked=\"!item.published\">\n                  Suspended\n                </label>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-xs-6\">\n            <div class=\"form-group\">\n              <div class=\"checkbox\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    name=\"part_of_sitemap\"\n                    value=\"true\"\n                    :checked=\"item.part_of_sitemap\">\n                  Part of sitemap?\n                </label>\n              </div>\n              <div class=\"checkbox\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    name=\"members_only\"\n                    value=\"true\"\n                    :checked=\"item.members_only\">\n                  Members only?\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"m-y-2\">\n      <textarea name=\"content\" class=\"form-control\">{{item.content}}</textarea>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-xs-12 col-md-7\">\n        <div class=\"form-group\">\n          <label>Meta Title</label>\n          <input type=\"text\" class=\"form-control\" name=\"meta_title\" :value=\"item.meta_title\">\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-xs-12 col-md-6\">\n            <div class=\"form-group\">\n              <label>Meta Keywords</label>\n              <textarea name=\"meta_keywords\" class=\"form-control\">{{item.meta_keywords}}</textarea>\n            </div>\n          </div>\n          <div class=\"col-xs-12 col-md-6\">\n            <div class=\"form-group\">\n              <label>Meta Description</label>\n              <textarea name=\"meta_description\" class=\"form-control\">{{item.meta_description}}</textarea>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-xs-12 col-md-4\">\n        <label></label>\n        <div class=\"form-group\">\n          <label>\n            <input\n              type=\"radio\"\n              name=\"meta_robots\"\n              value=\"\"\n              :checked=\"!item.meta_robots\">\n            No Meta Robots\n          </label>\n\n          <div v-for=\"line in meta_robots\" class=\"radio\">\n            <label>\n              <input\n                type=\"radio\"\n                name=\"meta_robots\"\n                :value=\"line\"\n                :checked=\"item.meta_robots === line\">\n              {{line}}\n            </label>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n";

/***/ },

/***/ 1176:
/***/ function(module, exports) {

module.exports = "<div>\n  <ul class=\"nav nav-tabs\">\n    <li class=\"nav-item\">\n      <a\n        href=\"#page\"\n        @click.prevent=\"switch_tab\"\n        class=\"nav-link\"\n        data-toggle=\"tab\">\n        Page\n      </a>\n    </li>\n    <li class=\"nav-item\">\n      <a\n        href=\"#aliases\"\n        @click.prevent=\"switch_tab\"\n        class=\"nav-link\"\n        data-toggle=\"tab\">\n        Aliases\n      </a>\n    </li>\n  </ul>\n\n  <div class=\"tab-content\">\n    <div class=\"tab-pane m-t-1\" id=\"page\">\n      <page :item=\"item\" />\n    </div>\n    <div class=\"tab-pane m-t-1\" id=\"aliases\">\n      <aliases :item=\"item\" />\n    </div>\n  </div>\n</div>\n";

/***/ },

/***/ 1177:
/***/ function(module, exports) {

module.exports = "<span>\n  <span v-show=\"!item.published\" class=\"label label-warning\">S</span>\n\n  <a href=\"#\" @click.prevent=\"load_item(item.id)\">\n    {{item.name}}\n  </a>\n\n  <div>\n    <a :href=\"page_url(item)\" target=\"_blank\" rel=\"extern\">\n      <small>\n        <i class=\"fa fa-external-link\"></i>\n        {{page_url(item)}}\n      </small>\n    </a>\n  </div>\n</span>\n";

/***/ },

/***/ 1237:
/***/ function(module, exports, __webpack_require__) {

"use strict";
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _utils = __webpack_require__(19);

var _utils2 = _interopRequireDefault(_utils);

var _item = __webpack_require__(449);

var _item2 = _interopRequireDefault(_item);

var _editor = __webpack_require__(448);

var _editor2 = _interopRequireDefault(_editor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  components: {
    Item: _item2.default,
    Editor: _editor2.default,

    EditorControls: {
      methods: {
        serialize: function serialize() {
          var data = _utils2.default.serialize_editor();
          data.meta_robots = data.meta_robots || '';
          return data;
        }
      }
    }
  }
};

/***/ },

/***/ 359:
/***/ function(module, exports) {

"use strict";
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.page_url = page_url;
function page_url() {
  return this.$options.pages_url + this.item.baseurl;
}

/***/ },

/***/ 448:
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _page = __webpack_require__(794);

var _page2 = _interopRequireDefault(_page);

var _aliases = __webpack_require__(793);

var _aliases2 = _interopRequireDefault(_aliases);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  template: __webpack_require__(1176),

  components: {
    Page: _page2.default,
    Aliases: _aliases2.default
  },

  mounted: function mounted() {
    var tab = this.url.params.tab || '#page';
    $('[data-toggle="tab"][href="' + tab + '"]', this.$el).tab('show');
    this.update_editor_controls();
  },


  methods: {
    switch_tab: function switch_tab(evt) {
      this.url.update(this.url.params, { tab: evt.target.getAttribute('href') });
      this.update_editor_controls();
    },
    update_editor_controls: function update_editor_controls() {
      this.$store.commit('CRUDLE__UPDATE_UI', this.url.params.tab === '#page');
    }
  }
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))

/***/ },

/***/ 449:
/***/ function(module, exports, __webpack_require__) {

"use strict";
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _helpers = __webpack_require__(359);

exports.default = {
  template: __webpack_require__(1177),

  methods: {
    page_url: _helpers.page_url
  }
};

/***/ },

/***/ 793:
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _apprilAlert = __webpack_require__(2);

var _apprilAlert2 = _interopRequireDefault(_apprilAlert);

var _formSerialize = __webpack_require__(7);

var _formSerialize2 = _interopRequireDefault(_formSerialize);

var _helpers = __webpack_require__(359);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  props: ['item'],
  template: __webpack_require__(1174),

  methods: {
    page_url: _helpers.page_url,

    create_alias: function create_alias(evt) {
      var _this = this;

      var form = evt.target.closest('form');
      if (!$(form).parsley().validate()) return;

      this.api.create_alias(this.item.id, (0, _formSerialize2.default)(form, { hash: true })).send({
        success: function success(alias) {
          _this.$store.commit('PAGES__ADD_ALIAS', alias);
          form.reset();
        }
      });
    },
    delete_alias: function delete_alias(alias_id, index) {
      var _this2 = this;

      _apprilAlert2.default.confirm(function () {
        _this2.api.delete_alias(_this2.item.id, alias_id).send({
          success: function success() {
            return _this2.$store.commit('PAGES__DELETE_ALIAS', index);
          }
        });
      });
    }
  }
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))

/***/ },

/***/ 794:
/***/ function(module, exports, __webpack_require__) {

"use strict";
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _apprilCodemirror = __webpack_require__(36);

var _apprilCodemirror2 = _interopRequireDefault(_apprilCodemirror);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  props: ['item'],
  template: __webpack_require__(1175),

  data: function data() {
    return {
      meta_robots: ['index, follow', 'index, nofollow', 'noindex, follow', 'noindex, nofollow']
    };
  },
  mounted: function mounted() {
    (0, _apprilCodemirror2.default)(this.$el.querySelector('[name="content"]'));
  }
};

/***/ }

},[1237]);