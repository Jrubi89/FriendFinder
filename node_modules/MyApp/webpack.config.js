var child_process = require('child_process');

APP_ENV = process.env.APP_ENV || 'development'

if (APP_ENV == 'development') {
  console.log('Generating configs...');
  try {
    child_process.execSync('./core/generate_configs.rb');
  } catch(e) {
    console.log(e.stdout.toString() + e.stderr.toString())
    process.exit(1)
  }
}

module.exports = {
  entry: require('./webpack/entry.js'),
  output: require('./webpack/output.js'),
  module: {
    loaders: require('./webpack/loaders.js')
  },
  resolve: {
    extensions: require('./webpack/extensions.js'),
    alias: require('./webpack/alias.js')
  },
  plugins: require('./webpack/plugins.js')
}
