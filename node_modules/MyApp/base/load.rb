# this file runs after app booted and before helpers, models and api loaded.
# at this stage all gems and configs available.

Dir.chdir File.expand_path("../../..", __FILE__) do
  require './base/core_ext'
  require './core/load_helpers'
  require './base/background_worker'
  require './core/load_models'
  require './base/cache_machine'
  require './base/pubsub'
end

require File.expand_path("../components/base_controller", __FILE__)

# loading users component before other components
%w[
  server.rb
  **/*.rb
].each do |p|
  Dir[File.expand_path("../components/users/#{p}", __FILE__)].each {|f| require(f)}
end
