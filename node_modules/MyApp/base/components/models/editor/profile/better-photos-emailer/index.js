import Emailer from 'components/users/emailer'

export default {
  props: ['item'],
  template: require('./template'),

  data: () => ({
    email: null
  }),

  components: {
    Emailer
  },

  methods: {

    prepare() {
      this.email = 'better_photo_request'
    },

    send(subject, body) {
      this.api.request_more_info(this.item.id, this.email, subject, body).send({
        success: () => {
          this.close()
        }
      })
    },

    close() {
      this.email = null
    }
  }
}
