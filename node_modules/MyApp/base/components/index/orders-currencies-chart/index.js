import c3 from 'c3'

export default {
  props: ['data'],
  template: require('./template'),

  mounted() {
    this.$nextTick(() => {
      c3.generate({
        bindto: this.$el.querySelector('#chart'),
        data: {
          columns: [
            ['Money Only', this.data.money_only],
            ['Money and Credits', this.data.money_and_credits],
            ['Credits Only', this.data.credits_only]
          ],
          type: 'pie'
        },
        pie: {
          label: {
            format: (val) => val
          }
        }
      })
    })
  }
}
