import c3 from 'c3'
import {money_format} from 'appril-utils'

export default {
  props: ['data'],
  template: require('./template'),

  mounted() {
    this.$nextTick(() => {
      c3.generate({
        bindto: this.$el.querySelector('#chart'),
        data: {
          columns: [
            ['Revenue'].concat(this.data.total)
          ],
          type: 'bar'
        },
        axis: {
          x: {
            type: 'category',
            categories: this.data.months
          },
          y: { show: false }
        },
        tooltip: {
          format: {
            value: (value) => '$' + money_format(value)
          }
        }
      })
    })
  }
}
