import {map} from 'lodash'
import Serialize from 'form-serialize'
import utils from 'crudle/utils'

import Filters from './filters'
import Item from './item'
import Editor from './editor'

export default {
  components: {
    Filters,
    Item,
    Editor,

    EditorControls: {
      methods: {
        serialize() {
          let data = utils.serialize_editor()
          data.related_products = map(data.related_products || [], (id) => parseInt(id))
          return data
        }
      }
    }
  }
}
