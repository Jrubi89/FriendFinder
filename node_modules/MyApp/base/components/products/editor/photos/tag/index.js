import {reduce} from 'lodash'
import Photo from './photo'
import {initiate_upload, upload} from '../methods'

export default {
  props: ['item'],
  template: require('./template'),

  computed: {
    photos() {
      let photos = this.item.tag_photos || {}
      return reduce(this.$options.tags, ((result,tag) => {
        if (photos[tag])
          result.push({tag, photo: photos[tag]})
        return result
      }), [])
    }
  },

  components: {
    Photo
  },

  methods: {
    initiate_upload, 
    upload
  }
}
