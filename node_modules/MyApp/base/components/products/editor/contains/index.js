import {find} from 'lodash'

export default {
  props: ['item'],
  template: require('./template'),

  data() { return {
    contained_product(row) {
      if (!row)
        return 'unknown product'

      let product = find(this.$options.products, (p) => p.id === row.product_id)

      if (!product)
        return 'unknown product'

      return product.name
    }
  }},

  mounted() {
    $('.selectize', this.$el).selectize()
  },

  methods: require('./methods')
}
